## Confluenceのようなドキュメント管理システム

【核となるイベント】
ドキュメントの管理するシステムなので、**ドキュメントのCRUD**をすることが、核となるイベント
核となるテーブルはdocument

【リソースの抜き出し】
- documents
  - 今回のキーテーブル
- authors
  - documentsを編集、書き込みする際に複数の人が書き込むので中間テーブルを置く
  - SQLアンチパターン第1章を参照
- users
  - ユーザーテーブル
- direcotries
  - 階層構造の仕様を満たすためのテーブル

## テーブル

users

| キー | カラム名   | データ型  | 制約     | 説明                     |
| ---- | ---------- | --------- | -------- | ------------------------ |
| PK   | user_id    | INT       | NOT NULL |                          |
| FK   | author_id  | INT       | NOT NULL | authorテーブルと紐付ける |
|      | name       | VARCHAR   | NOT NULL | ユーザー名               |
|      | email      | VARCHAR   | NOT NULL | メールアドレス           |
|      | created_at | DATETTIME | NOT NULL |                          |
|      | updated_at | DATETTIME | NOT NULL |                          |


Documents

| キー | カラム名     | データ型  | 制約     | 説明                        |
| ---- | ------------ | --------- | -------- | --------------------------- |
| PK   | document_id  | INT       | NOT NULL |                             |
| FK   | user_id      | INT       | NOT NULL | userテーブルと紐付ける      |
| FK   | directory_id | INT       | NOT NULL | directoryテーブルと紐付ける |
|      | title        | VARCHAR   | NOT NULL | ドキュメントのtitle         |
|      | content      | VARCHAR   | NOT NULL | ドキュメントの内容          |
|      | created_at   | DATETTIME | NOT NULL |                             |
|      | updated_at   | DATETTIME | NOT NULL |                             |
