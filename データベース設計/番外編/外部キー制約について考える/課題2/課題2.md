### 課題2-1

| 参照系               | 動作                                                                                                                                                                                                                                       | ユースケース                                                                                                                                               |
| -------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ | ---------------------------------------------------------------------------------------------------------------------------------------------------------- |
| CASCADE              | ON DELETE CASCADE: 親テーブルの行が削除されると、その行を参照している子テーブルの行も自動的に削除される。<br/>ON UPDATE CASCADE: 親テーブルのキー値が更新されると、それを参照する子テーブルの外部キーの値も自動的に更新される。            | 子テーブルのデータが親テーブルの存在に強く依存している場合                                                                                                 |
| SET NULL             | 親テーブルの行が削除（または更新）された場合、子テーブルの該当する外部キーの値が自動的にNULLに設定される。                                                                                                                                 | 子テーブルのレコードが必ずしも親との関連性を必要としないケース。たとえば、記事の投稿者が削除された場合、記事自体は残し「投稿者不明」としておくような場合。 |
| RESTRICT / NO ACTION | RESTRICT: 親テーブルの行が削除または更新されようとした場合、子テーブルに関連する行が存在すると操作を拒否します。<br/>NO ACTION: MySQLではRESTRICTの別名として扱われ、同様に動作します。（MySQLにおいては、両者に実質的な違いはありません） | 子レコードが常に有効な親行を参照すべき状況。たとえば、Bookが必ず有効なAuthorに紐づいていなければならない場合。                                             |

### 課題2-2

親テーブル(departmentテーブル)のレコードが削除されてしまうと、意図せず子テーブル(employテーブル)の行も削除されてしまう

### 課題2-3

on delete set nullが設定されているので、assigneeテーブルが削除されると、issueテーブルのassingee_idがnullとなってしまいアプリケーションの整合性が保てなくなる

### 課題2-4

**【prismaについて】**
onDeleteについて明示的に明記しないと、デフォルトで RESTRICT（すなわち、削除操作を制限する）に設定される

**【TypeORMについて】**
TypeORMでは、リレーションの外部キー制約について onDelete の指定を省略すると、デフォルトで NO ACTION が適用される

### MySQLとPostgreSQLではrestrictとno actionの扱いに少し違いがあります。それはどのような違いでしょうか？

**【MySQLについて】**
RESTRICT と NO ACTION は事実上同一の動作

**【PostgreSQLについて】**

- NO ACTION:
制約のチェックは、デフォルトでは各ステートメントの最後に行われます。

- RESTRICT:
こちらはチェックが直ちに行われる仕様です。
