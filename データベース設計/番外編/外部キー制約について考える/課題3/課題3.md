### クイズ1: ON DELETE CASCADE の動作

**問題:**  
外部キー制約で「ON DELETE CASCADE」を設定している場合、親テーブルのレコードが削除されると、子テーブルの該当レコードはどのような動作をしますか？

**選択肢:**  
A. 子テーブルの該当レコードも自動的に削除される  
B. 子テーブルの該当レコードの外部キー値が NULL に更新される  
C. 子テーブルの該当レコードはそのまま残り、削除操作は拒否される  
D. 子テーブルの該当レコードはエラーとなり、トランザクション全体がロールバックされる

**正解:** A

**解説:**  
「ON DELETE CASCADE」は、親レコードが削除されたときに、そのレコードを参照している子レコードも自動的に削除される動作をします。これにより、データの整合性が保たれる一方、誤った削除操作による大量データの損失リスクがあるため、使用する際は運用上の注意が必要です。

---

### クイズ2: MySQLでサポートされない参照アクション

**問題:**  
MySQL（InnoDB）で外部キー制約を定義する際、以下の参照アクションのうちサポートされていないものはどれですか？

**選択肢:**  
A. ON DELETE CASCADE  
B. ON DELETE SET NULL  
C. ON DELETE RESTRICT  
D. ON DELETE SET DEFAULT

**正解:** D

**解説:**  
MySQL（InnoDBエンジン）では、ON DELETE CASCADE、ON DELETE SET NULL、ON DELETE RESTRICT（NO ACTIONと同様の動作）の各参照アクションはサポートされています。しかし、ON DELETE SET DEFAULT はサポートされていません。したがって、D のオプションは無効となります。

---

### クイズ3: PostgreSQL における NO ACTION と RESTRICT の違い

**問題:**  
PostgreSQL で外部キー制約を定義する場合、参照アクションとして「NO ACTION」と「RESTRICT」が選択可能ですが、主な違いは何でしょうか？

**選択肢:**  
A. NO ACTION は常に即時に制約チェックを行い、RESTRICT はチェックを延期する  
B. RESTRICT は常に即時に制約チェックを行い、NO ACTION は制約チェックがステートメントの終了時まで延期できる  
C. 両者は全く同一の動作をする  
D. RESTRICT は子テーブルへの変更を許可し、NO ACTION は許可しない

**正解:** B

**解説:**  
PostgreSQL では、RESTRICT は親レコード削除や更新時に即座に制約チェックが行われ、違反がある場合に即時に操作が拒否されます。一方、NO ACTION は制約チェックがステートメントの終了時まで延期される可能性があり、DEFERRABLE（延期可能）な外部キー制約として定義されている場合、同一のステートメント内で後続の操作で整合性が回復すれば最終的に成功することがあります。これが両者の主な違いです。
